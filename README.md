# Pilar Backend Test

This repository contains a project to Pilar backend test

## Requirements

The project requires [Python 3.12](https://www.python.org/downloads/release/python-3120/) or higher and the [Poetry](https://python-poetry.org/) package manager.

## Instalation

After install all requirements, install the project running:
```console
poetry install --with lint,tests
```
## Tests

Run the tests with:
```console
poetry run pytest
```

## Run the application

Run the application locally with:
```console
poetry run fastapi run app.py
```

### Docker

The application can be runned in a docker container:
```console
docker build -t case-pilar-api .
docker run case-pilar
```

## API

### Documentaion

There are autogenerated documentations that can be acessed by:

- Swagger UI > http://localhost:8000/docs
- ReDoc > http://localhost:8000/redoc

### Endpoints

#### Vowel Count

```
POST /v1/vowel-count/
```

Example of body:

```json
{
  "words": ["batman", "robin", "coringa"]
}
```

Parameters:

| Parameter      | Description                                          |
| -------------- | ---------------------------------------------------- |
| `words`        | List of words to count vowels in each                |

Then API will respond with:
```json
{
  "batman": 2,
  "robin": 2,
  "coringa": 3
}
```

#### Sort words

```
POST /v1/sort/
```

Example of body:

```json
{
  "words": ["batman", "robin", "coringa"]
  "order": "asc"
}
```

Parameters:

| Parameter      | Description                                          |
| -------------- | ---------------------------------------------------- |
| `words`        | List of words to count vowels in each                |
| `order`        | The order to be sorted (asc or desc)                 |

Then API will respond with:
```json
[
  "batman",
  "coringa",
  "robin"
]
```

